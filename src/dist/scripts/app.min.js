var theForm=document.querySelector("form#story-search"),searchButton=document.querySelector("form#story-search > button"),theInput=document.querySelector("form#story-search > fieldset"),searchField=document.querySelector("form#story-search > fieldset input"),isShown=!1;function toggleSearchForm(){isShown=isShown?(theInput.classList.remove("show"),searchButton.classList.remove("hide"),event.preventDefault(),!1):(theInput.classList.add("show"),searchButton.classList.add("hide"),searchField.focus(),event.preventDefault(),!0)}theForm.addEventListener("click",toggleSearchForm);var theFilter=document.querySelector("form#filter"),filterButton=document.querySelector("header > nav button"),buttonStripes=document.querySelectorAll("header > nav button > span");function toggleFilter(){theFilter.classList.toggle("show"),buttonStripes.forEach(function(e){e.classList.toggle("is-open")}),document.body.classList.toggle("noScroll")}function checkUserInput(e){return searchField.value}function returnParent(e){return e.parentElement}function returnGrandParent(e){return returnParent(e).parentElement}function returnArticle(e){return returnGrandParent(e).parentElement}function getTitles(e){return document.querySelectorAll(".stories article h4")}filterButton.addEventListener("click",toggleFilter);var results=document.querySelector("body > section:first-of-type > p"),resultItems=document.getElementsByClassName("result");function filterStories(){checkUserInput(),getTitles();var t=checkUserInput();getTitles().forEach(function(e){results.classList.remove("visually-hidden"),results.textContent=resultItems.length+" resultaten gevonden.",""===t?results.classList.add("visually-hidden"):""===t||e.textContent.toLowerCase().includes(t.toLowerCase())?(returnArticle(e).classList.remove("visually-hidden"),returnArticle(e).classList.add("result")):(returnArticle(e).classList.add("visually-hidden"),returnArticle(e).classList.remove("result"))})}searchField.addEventListener("input",filterStories);var downloadButtons=document.querySelectorAll("#download");function loadingState(){var e=this;e.classList.add("loading"),setTimeout(function(){e.classList.remove("loading"),e.classList.add("finished"),e.parentElement.nextElementSibling.textContent="Gedownload"},3600)}for(i=0;i<downloadButtons.length;i++)downloadButtons[i].addEventListener("click",loadingState);var firstStories=document.querySelectorAll("body > section:nth-of-type(2) > section > article"),secondStories=document.querySelectorAll("body > section:nth-of-type(3) > section > article"),thirdStories=document.querySelectorAll("body > section:nth-of-type(4) > section > article"),fourthStories=document.querySelectorAll("body > section:nth-of-type(5) > section > article"),firstStoriesTitle=document.querySelector("body > section:nth-of-type(2) > h2"),secondStoriesTitle=document.querySelector("body > section:nth-of-type(3) > h2"),thirdStoriesTitle=document.querySelector("body > section:nth-of-type(4) > h2"),fourthStoriesTitle=document.querySelector("body > section:nth-of-type(5) > h2");function storyChecker(e,t,r,o){t=[],e.forEach(function(e){e.classList.contains("result")&&(t.push(e),r.textContent=o+" ("+t.length+")")})}function checkStories(){storyChecker(firstStories,[],firstStoriesTitle,"Chaotisch"),storyChecker(secondStories,[],secondStoriesTitle,"Humor"),storyChecker(thirdStories,[],thirdStoriesTitle,"Horror"),storyChecker(fourthStories,[],fourthStoriesTitle,"Liefde")}firstStoriesTitle.textContent="Chaotisch ("+firstStories.length+")",secondStoriesTitle.textContent="Humor ("+secondStories.length+")",thirdStoriesTitle.textContent="Horror ("+thirdStories.length+")",fourthStoriesTitle.textContent="Liefde ("+fourthStories.length+")",searchField.addEventListener("keydown",checkStories);